<!DOCTYPE html>
<html lang="en">
	<head>
        <meta charset="utf-8" />
        <title>To the moon</title>
    </head>
	<body>
		<a href="/empreinte_carbone/raport.html">Voir notre empreinte carbone</a>
		<form action="/" method="post" enctype="multipart/form-data">
			<input type="text" name="myFile" />
			<button type="submit">Submit</button>
		</form>
		<input type = "text" id = "myid" value="delete" />
		<button id="delete-button">Do something wrong</button><br>
	</body>
</html>

<script>
	
	class DeleteHTTP {
	
	async delete(url) {
		const response = await fetch(url, {
			method: 'PUT',
			headers: {
				'Content-type': 'application/json'
			}
		});
		const resData = 'resource deleted...';
		return resData;
		}
	}

	const http = new DeleteHTTP;
	let button = document.getElementById("delete-button");

	button.addEventListener("click", () => {
		console.log("clicked");
		http.delete('http://localhost:7070/jetoi/' + document.getElementById("myid").value)
		.then(data => console.log(data))
		.catch(err => console.log(err))
	});

</script>